<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="p5 Test">
<link rel="apple-touch-icon" href="favicon.png">
<link rel="icon" href="favicon.png" />
<title>p5.js 3D Box Test</title>
<style>
html,body{
  margin:0;
  padding:0;
  width:100vw;
  height:100vh;
  overflow:hidden;
  background:#111;
}
canvas{display:block;}
</style>

<!-- p5.js libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/addons/p5.sound.min.js"></script>

<script>
function setup() {
  // Use WEBGL renderer for 3D
  createCanvas(windowWidth, windowHeight, WEBGL);

  // Prevent default touch behavior (scrolling/bounce)
  document.body.addEventListener('touchmove', function(e) {
    e.preventDefault();
  }, { passive: false });

  noStroke();
}

function draw() {
  background(20, 20, 40);

  // Set up some lighting
  directionalLight(255, 255, 255, 0.25, 0.25, -1);
  ambientLight(60);

  // Rotate based on time and mouse
  rotateX(frameCount * 0.01 + (mouseY - height/2) * 0.002);
  rotateY(frameCount * 0.01 + (mouseX - width/2) * 0.002);

  // Color and box
  normalMaterial();
  box(min(width, height) / 3);

  // Draw a circle at mouse position
  push(); // Save current transformations
  noStroke();
  fill(255, 100, 100);
  // Convert mouse coordinates to WEBGL center coordinates
  translate(mouseX - width / 2, mouseY - height / 2, 0);
  sphere(20); // 3D sphere
  pop(); // Restore transformations
}

function windowResized() {
  resizeCanvas(windowWidth, windowHeight);
}
</script>
</head>
<body></body>
</html>
