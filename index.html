<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>Camera Test</title>
<style>
html,body{
  margin:0;
  padding:0;
  width:100vw;
  height:100vh;
  overflow:hidden;
  background:#111;
}
canvas, video{
  display:block;
}
</style>

<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>

<script>
let cam;

function setup() {
  createCanvas(windowWidth, windowHeight);
  
  // Stop scrolling on touch
  document.body.addEventListener('touchmove', e => e.preventDefault(), {passive:false});

  // Start camera
  cam = createCapture(VIDEO);
  cam.size(width, height);
  cam.hide(); // hide HTML video element
}

function draw() {
  background(0);
  
  // Draw camera feed on canvas
  image(cam, 0, 0, width, height);
}

function windowResized() {
  resizeCanvas(windowWidth, windowHeight);
}
</script>
</head>
<body></body>
</html>
